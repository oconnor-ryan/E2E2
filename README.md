# E2E2 (Version 2)

An incomplete modification of the original E2E2 project on the main branch designed to fix a glaring vulnerability as well as provide nicer features such as notifications and client-side rendering and routing.

> Disclaimer: Do not use this project in any production service. 
> This project's only purpose is to serve as a educational tool on using
> the WebCrypto API and applying cryptographic primitives in a web application.
> There is no guarantee that this software can protect a user's encrypted
> messages.

> Another Disclaimer:
> The features promised in this branch are not all complete. Future work must be done to implement these features as well as add better error handling on the client.

## About The Project
Please read the README.md on the main branch for more details.

## About This Git Branch
The 'v2' branch I created as an attempt to rewrite the messaging protocol to fix the vulnerability where a attacker with control of the server can decrypt messages. It includes the following features:
- It is a Single Page Application that uses client-side routing and rendering to display webpages instead of relying on the server.
- By making this a Single Page Application, the client never needs to refresh the page and can maintain a persistant WebSocket connection that displays notifications and saves messages automatically no matter what page they're on. 
- It fixes the vulnerability mentioned about by only allowing the client to store the list of chat members. The clients are now responsible for keeping track of who is in the chat room.
- The chat room encryption key is replaced with a secret key generated by X3DH between every pair of users that share at least one chat room. With this, the server does not know what messages belong to what chat room, it only knows that one person sent a message to another person.
- All messages are now signed using the sender's identity key, further preventing other users from impersonating each other

There are many features from the main branch that I did not have the time to port into the this branch, however, such as:
- File Uploads
- Video Calls


